import{Q as C}from"./QSpace-4c640a0c.js";import{r as g,T as Q,o as d,c,a as o,u as b,b as i,h as a,F as x,R as v,Z as D,d as N,L as S,j as h,t as m,Q as T}from"./app-bfca7ec4.js";import{Q as l}from"./QTd-bd214e85.js";import{Q as V}from"./QTable-e2e2fc3c.js";import{d as P}from"./date-37bbfee8.js";import"./QSelect-0be4b91d.js";import"./QChip-fbdc1a57.js";import"./QMenu-7802b655.js";import"./use-fullscreen-0d7e226b.js";const B={class:"container"},M=i("h3",null,"Closed Case & Transferred",-1),Y={class:"q-pa-md"},I=i("span",{class:"text-2xl"},"Closed List",-1),L={class:""},R={key:0},U={key:1},q={key:2},J={__name:"Closed",props:["grievances","search"],setup(_){var u;const n=_,s=g(n.search);Q({});const k=t=>{v.get("/grievance/officer/show/"+t)},y=[{name:"id",align:"left",label:"Sl No",field:"id"},{name:"applicant_name",align:"left",label:"Applicant Name",field:"applicant_name"},{name:"department",align:"left",label:"Department",field:"department",format:t=>t.organization_name},{name:"registration_number",align:"left",label:"Registration No",field:"registration_number"},{name:"grievance_description",align:"left",label:"Description",field:"grievance_description"},{name:"more",align:"left",label:"More",field:"id"},{name:"action_id",align:"left",label:"Status",field:"action_id"},{name:"date_of_final_remark",align:"left",label:"Closed On",field:"date_of_final_remark"}],p=g({page:((u=n.grievances)==null?void 0:u.current_page)||0,rowsPerPage:n.grievances.per_page,rowsNumber:n.grievances.total});function w(t){s.value=t,f({pagination:p})}function f(t){const{page:r,rowsPerPage:e}=t.pagination;v.get(route("officer.closed"),{per_page:e,page:r,search:s.value},{})}return(t,r)=>(d(),c(x,null,[o(b(D),{title:"Closed"}),i("div",B,[M,i("div",Y,[o(V,{pagination:p.value,"onUpdate:pagination":r[1]||(r[1]=e=>p.value=e),rows:_.grievances.data,columns:y,props:n,"row-key":"name","table-header-class":"bg-grey-2",flat:"",bordered:"",title:"Grievance List",separator:"cell",onRequest:f},{top:a(()=>[I,o(C),o(N,{autofocus:"",dense:"",debounce:"800","onUpdate:modelValue":[w,r[0]||(r[0]=e=>s.value=e)],color:"primary",modelValue:s.value,placeholder:"Search"},{append:a(()=>[o(S,{name:"search"})]),_:1},8,["modelValue"])]),"body-cell-id":a(e=>[o(l,{key:"id",props:e},{default:a(()=>[h(m(e.rowIndex+1),1)]),_:2},1032,["props"])]),"body-cell-grievance_description":a(e=>[o(l,{props:e},{default:a(()=>[i("div",L,m(e.row.grievance_text),1)]),_:2},1032,["props"])]),"body-cell-more":a(e=>[o(l,{key:"more",props:e},{default:a(()=>[o(T,{dense:"",round:"",flat:"",color:"blue",onClick:A=>k(e.row.id),icon:"more"},null,8,["onClick"])]),_:2},1032,["props"])]),"body-cell-action_id":a(e=>[o(l,{key:"status",props:e},{default:a(()=>[e.row.action_id===7?(d(),c("div",R," - Closed - ")):e.row.action_id===5?(d(),c("div",U," - Transferred to another department - ")):(d(),c("div",q," - Under Process - "))]),_:2},1032,["props"])]),"body-cell-date_of_final_remark":a(e=>[o(l,{key:"status",props:e},{default:a(()=>[h(m(b(P).formatDate(e.row.date_of_final_remark,"DD MMM YYYY, hh:mm A")),1)]),_:2},1032,["props"])]),_:1},8,["pagination","rows","props"])])])],64))}};export{J as default};
