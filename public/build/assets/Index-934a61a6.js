import{Q as C}from"./QSpace-4c640a0c.js";import{r as u,T as Q,o as y,c as R,a as e,u as r,b as s,h as a,i as V,F as x,Z as B,Q as m,j as S,t as D,n as f,P as N,k as T,l as q,m as M,p as Y,w as E,d as I,C as P}from"./app-bfca7ec4.js";import{Q as b}from"./QTd-bd214e85.js";import{Q as U}from"./QTable-e2e2fc3c.js";import{d as L}from"./date-37bbfee8.js";import{u as j}from"./use-quasar-8ef4c359.js";import"./QSelect-0be4b91d.js";import"./QChip-fbdc1a57.js";import"./QMenu-7802b655.js";import"./use-fullscreen-0d7e226b.js";const F={class:"m-5"},$=s("h4",{class:"mb-2"},"Role",-1),A={class:"q-pa-md"},O=s("span",{class:"text-2xl"},"Roles List",-1),Z=s("span",{class:"text-weight-bold"},"Edit Role",-1),z=["onSubmit"],G={class:"q-pa-md"},H={class:"q-gutter-x-md column",style:{width:"400px"}},ie={__name:"Index",props:{roles:Object},setup(v){const p=j(),d=u(!1),t=Q({id:"",name:""}),n=u(0),c=u(!1),_=u(null),g=o=>{d.value=!0,t.id=o.id,t.name=o.name},h=[{name:"id",align:"left",label:"Sl No",field:"id",headerClasses:""},{name:"name",align:"left",label:"Role Name",field:"name"},{name:"created_at",align:"left",label:"Created_at",field:"created_at",format:o=>L.formatDate(o,"DD MMM YYYY")},{name:"actions",align:"left",label:"Action",field:"id"}],k=o=>{console.log("Im the only one: "+o),t.put(route("role.update",t.id),{onSuccess:()=>{d.value=!1,p.notify({message:"Role Updated",closeBtn:!0,icon:"check",iconColor:"blue"})}})},w=()=>{n.value++,console.log(n.value),n.value===8?c.value=!0:n.value>8&&(n.value=1,c.value=!1),_.value=p.notify({message:" You have clicked "+n.value+" times!",timeout:200})};return(o,i)=>(y(),R(x,null,[e(r(B),{title:"Role List"}),s("div",F,[$,s("div",A,[e(U,{rows:v.roles,columns:h,"row-key":"name",onRequest:o.tableData,onRowClick:o.rowClicker,flat:"",bordered:"",title:"Roles List",separator:"cell",pagination:{sortBy:"id",rowsPerPage:10},"records-per-page-options":"[1,5,10]"},{top:a(()=>[O,e(C),s("div",null,[e(m,{flat:"",label:"Click here 8 times to enable edit button",onClick:i[0]||(i[0]=l=>w())})])]),"body-cell-id":a(l=>[e(b,{key:"id",props:l},{default:a(()=>[S(D(l.rowIndex+1),1)]),_:2},1032,["props"])]),"body-cell-actions":a(l=>[e(b,{key:"action",props:l},{default:a(()=>[f(e(m,{dense:"",round:"",flat:"",color:"green",onClick:J=>g(l.row),icon:"edit"},null,8,["onClick"]),[[N,c.value]])]),_:2},1032,["props"])]),_:1},8,["rows","onRequest","onRowClick"]),e(V,{modelValue:d.value,"onUpdate:modelValue":i[2]||(i[2]=l=>d.value=l)},{default:a(()=>[e(T,null,{default:a(()=>[e(q,null,{default:a(()=>[e(M,null,{default:a(()=>[Z]),_:1}),f(e(m,{flat:"",round:"",dense:"",icon:"close"},null,512),[[P]])]),_:1}),e(Y,null,{default:a(()=>[s("form",{onSubmit:E(k,["prevent"]),method:"post"},[s("div",G,[s("div",H,[e(I,{name:"name",standout:"",modelValue:r(t).name,"onUpdate:modelValue":i[1]||(i[1]=l=>r(t).name=l),error:!!r(t).errors.name,"error-message":r(t).errors.name,dense:o.dense,placeholder:"Role Name"},null,8,["modelValue","error","error-message","dense"]),e(m,{label:"Update",dense:"",color:"black",type:"submit",disable:r(t).processing},null,8,["disable"])])])],40,z)]),_:1})]),_:1})]),_:1},8,["modelValue"])])])],64))}};export{ie as default};
