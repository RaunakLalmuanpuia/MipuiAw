import{K as A,g as B,r as x,T as y,o as h,c as v,a as l,u as r,b as e,e as $,w as U,d as F,Q as u,S as t,t as n,h as c,i as N,F as Y,j as k,Z as G,k as C,p as D,N as V,O as R,n as _,P as I,C as p}from"./app-bfca7ec4.js";import{d as j}from"./date-37bbfee8.js";import{u as z}from"./use-quasar-8ef4c359.js";const E={class:"container"},H=e("a",{href:"javascript:history.go(-1)"},[e("i",{class:"q-icon material-icons-outlined"}," arrow_back "),k(" Back ")],-1),L=e("h3",{class:"ml-5"},"Delete Grievance only if it is necessary",-1),O=e("p",{class:"text-h5 text-red-6 ml-5"},"Caution : Data Deletion Alert - May Impact Other Users' Data",-1),P={key:0,class:"bg-green-2 border-green-9 mt-5 p-4 border-2"},K=e("div",{class:"text-green-9 text-h6 text-bold"}," Success! ",-1),Z=["innerHTML"],J={class:"py-3"},W={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},X={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},ee={class:"p-6 text-gray-900 ml-3"},se={class:"column mb-4"},le=e("label",{for:"grievance"},"Registration Number :",-1),te={class:""},oe={key:0},ae=e("p",{class:"text-h5 mt-2"},"Grievance Details",-1),ie={class:"border shadow"},ne={class:"p-5"},re={class:"row m-3"},ce=e("hr",null,null,-1),de={class:"row m-3"},ue=e("hr",null,null,-1),me={class:"row m-3"},he=e("hr",null,null,-1),ve={class:"row m-3"},_e=e("hr",null,null,-1),pe={class:"row m-3"},ge=e("hr",null,null,-1),be={class:"row m-3"},fe=e("hr",null,null,-1),De={class:"row m-3"},qe=e("hr",null,null,-1),we={class:"row m-3"},xe=e("hr",null,null,-1),ye={class:"row m-3"},$e={class:"mt-10"},Fe={key:1},Ne=e("p",null,"Not Found!",-1),Ce=[Ne],Ve=e("div",{class:"q-pa-md"},null,-1),Re=e("span",{class:"q-ml-sm"},"Are you sure you want to submit?",-1),ke=e("span",{class:"q-ml-sm"},"Type the below text to delete?",-1),Te={__name:"Delete",props:["grievances","search","error","grievanceDetails","grievanceRequestForDelete"],setup(S){const a=S,m=z(),M=A(),q=B(()=>M.props.flash.message),w="Delete"+Math.floor(Math.random()*(111-999+1))+111,g=x(!1),b=x(!1);let f=y({text:""}),d=y({registrationNumber:""});const Q=()=>{d.transform(s=>({registrationNumber:d.registrationNumber})).post("/dashboarddeleteShow",{onStart:()=>m.loading.show({message:"Searching..."}),onFinish:()=>{m.loading.hide()}})},T=()=>{d.transform(s=>({registrationNumber:d.registrationNumber})).post("/dashboarddeleteDestroy",{onStart:()=>m.loading.show({message:"Deleting..."}),onFinish:()=>{m.loading.hide()}})};return(s,o)=>(h(),v(Y,null,[l(r(G),{title:"Closed"}),e("div",E,[H,L,O,r(q)?(h(),v("div",P,[K,e("div",{class:"text-grey-9",innerHTML:r(q)},null,8,Z)])):$("",!0),e("form",{onSubmit:o[3]||(o[3]=U((...i)=>s.submit&&s.submit(...i),["prevent"]))},[e("div",J,[e("div",W,[e("div",X,[e("div",ee,[e("div",se,[le,l(F,{outlined:"",label:"Registration Number",modelValue:r(d).registrationNumber,"onUpdate:modelValue":o[0]||(o[0]=i=>r(d).registrationNumber=i)},null,8,["modelValue"])]),e("div",te,[l(u,{label:"Search",color:"primary",onClick:o[1]||(o[1]=i=>g.value=!0)})])])]),a.grievanceDetails?(h(),v("div",oe,[ae,e("div",ie,[e("div",null,[e("div",ne,[e("div",re,[e("div",{class:t(s.$q.screen.xs?"col-12":"col-4")}," Registration Number ",2),e("div",{class:t(s.$q.screen.xs?"col-12":"col-8")},n(a.grievanceRequestForDelete.registration_number),3)]),ce,e("div",de,[e("div",{class:t(s.$q.screen.xs?"col-12":"col-4")}," Name ",2),e("div",{class:t(s.$q.screen.xs?"col-12":"col-8")},n(a.grievanceRequestForDelete.applicant_name),3)]),ue,e("div",me,[e("div",{class:t(s.$q.screen.xs?"col-12":"col-4")}," Date of receipt ",2),e("div",{class:t(s.$q.screen.xs?"col-12":"col-8")},n(r(j).formatDate(a.grievanceRequestForDelete.date_of_receipt,"DD MMM YYYY, hh:mm A")),3)]),he,e("div",ve,[e("div",{class:t(s.$q.screen.xs?"col-12":"col-4")}," Residential Address ",2),e("div",{class:t(s.$q.screen.xs?"col-12":"col-8")},n(a.grievanceRequestForDelete.applicant_address),3)]),_e,e("div",pe,[e("div",{class:t(s.$q.screen.xs?"col-12":"col-4")}," District ",2),e("div",{class:t(s.$q.screen.xs?"col-12":"col-8")},n(a.grievanceRequestForDelete.applicant_district),3)]),ge,e("div",be,[e("div",{class:t(s.$q.screen.xs?"col-12":"col-4")}," Mobile Number ",2),e("div",{class:t(s.$q.screen.xs?"col-12":"col-8")},n(a.grievanceRequestForDelete.applicant_mobile),3)]),fe,e("div",De,[e("div",{class:t(s.$q.screen.xs?"col-12":"col-4")}," Email ID ",2),e("div",{class:t(s.$q.screen.xs?"col-12":"col-8")},n(a.grievanceRequestForDelete.applicant_email),3)]),qe,e("div",we,[e("div",{class:t(s.$q.screen.xs?"col-12":"col-4")}," Department ",2),e("div",{class:t(s.$q.screen.xs?"col-12":"col-8"),style:{"white-space":"pre-line"}},n(a.grievanceRequestForDelete.department.organization_name),3)]),xe,e("div",ye,[e("div",{class:t(s.$q.screen.xs?"col-12":"col-4")}," Grievance Description ",2),e("div",{class:t(s.$q.screen.xs?"col-12":"col-8"),style:{"white-space":"pre-line"}},n(a.grievanceRequestForDelete.grievance_description),3),e("div",$e,[l(u,{color:"red","icon-right":"delete",onClick:o[2]||(o[2]=i=>b.value=!0),label:"Delete"})])])])])])])):a.grievanceRequestForDelete==!1?(h(),v("div",Fe,Ce)):$("",!0)])])],32),Ve]),l(N,{modelValue:g.value,"onUpdate:modelValue":o[4]||(o[4]=i=>g.value=i)},{default:c(()=>[l(C,null,{default:c(()=>[l(D,{class:"row items-center"},{default:c(()=>[l(V,{icon:"done",color:"primary","text-color":"white"}),Re]),_:1}),l(R,{align:"right"},{default:c(()=>[_(l(u,{flat:"",label:"Cancel",color:"primary"},null,512),[[p]]),_(l(u,{flat:"",label:"Submit",onClick:Q,color:"primary"},null,512),[[p]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(N,{modelValue:b.value,"onUpdate:modelValue":o[6]||(o[6]=i=>b.value=i)},{default:c(()=>[l(C,null,{default:c(()=>[l(D,{class:"row items-center"},{default:c(()=>[l(V,{icon:"delete",color:"red","text-color":"white"}),ke]),_:1}),l(D,null,{default:c(()=>[e("div",null,[k(" Type: "),e("b",null,n(w))]),e("div",null,[l(F,{modelValue:r(f).text,"onUpdate:modelValue":o[5]||(o[5]=i=>r(f).text=i),dense:""},null,8,["modelValue"])])]),_:1}),l(R,{align:"right"},{default:c(()=>[_(l(u,{flat:"",label:"Cancel",color:"primary"},null,512),[[p]]),_(l(u,{flat:"",label:"Delete",onClick:T,color:"primary"},null,512),[[I,r(f).text===w],[p]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};export{Te as default};
