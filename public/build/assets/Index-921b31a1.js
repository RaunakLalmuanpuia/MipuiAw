import{Q as v}from"./QSpace-4c640a0c.js";import{r as _,T as C,J as Q,o as x,c as S,a as o,u as r,b as s,h as t,i as T,F as U,Z as N,j as f,d as i,L,Q as p,t as A,w as b,k as B,l as I,m as M,n as P,p as q,R as Y,C as E}from"./app-bfca7ec4.js";import{Q as c}from"./QTd-bd214e85.js";import{Q as F}from"./QTable-e2e2fc3c.js";import{d as $}from"./date-37bbfee8.js";import{u as j}from"./use-quasar-8ef4c359.js";import"./QSelect-0be4b91d.js";import"./QChip-fbdc1a57.js";import"./QMenu-7802b655.js";import"./use-fullscreen-0d7e226b.js";const J={class:"container m-10"},O=s("h4",{class:"mb-5 ml-5"},"Department List",-1),R={class:"q-pa-md"},Z=s("span",{class:"text-2xl"},"Department List",-1),G=s("span",{class:"text-weight-bold"},"Edit Department",-1),H=["onSubmit"],K={class:"q-pa-md"},W={class:"q-gutter-x-md column",style:{width:"400px"}},de={__name:"Index",props:["departments"],setup(g){const z=g,d=j(),m=_(!1),u=_(""),e=C({id:"",organization_name:"",organization_address:"",organization_code:"",organization_type:"",pincode:""}),h=l=>{m.value=!0,e.organization_name=l.organization_name,e.organization_address=l.organization_address,e.organization_code=l.organization_code,e.organization_type=l.organization_type,e.pincode=l.pincode,e.id=l.id},V=l=>{Y.get("/department/sibling/"+l)},y=[{name:"id",align:"left",label:"Sl No",field:"id",headerClasses:"bold"},{name:"name",align:"left",label:"Department Name",field:"organization_name"},{name:"created_at",align:"left",label:"Created_at",field:"created_at",format:l=>$.formatDate(l,"DD MMM YYYY, hh:mm A")},{name:"more",align:"left",label:"Sub Department",field:"id"},{name:"actions",align:"left",label:"Action",field:"id"}],D=l=>{console.log("Im the only one: "+e.id),e.put(route("department.update",e.id),{onStart:()=>{d.loading.show()},onSuccess:()=>{d.loading.hide(),d.notify({message:"Department Updated",closeBtn:!0,icon:"check",iconColor:"blue"}),m.value=!1},onFinish:()=>{d.loading.hide()}})};return(l,n)=>{const w=Q("Link");return x(),S(U,null,[o(r(N),{title:"All Department List"}),s("div",J,[O,o(w,{href:"/department/create",class:"p-2 m-5 bg-blue-5 text-white shadow-2"},{default:t(()=>[f("New Department")]),_:1}),s("div",R,[o(F,{class:"shadow-1",rows:g.departments,columns:y,props:z,filter:u.value,"row-key":"name",flat:"",bordered:"",separator:"cell",pagination:{rowsPerPage:10},"records-per-page-options":"[1,5,10]"},{top:t(()=>[Z,o(v),o(i,{dense:"",debounce:"300",color:"primary",modelValue:u.value,"onUpdate:modelValue":n[0]||(n[0]=a=>u.value=a),placeholder:"Search"},{append:t(()=>[o(L,{name:"search"})]),_:1},8,["modelValue"])]),"body-cell-more":t(a=>[o(c,{key:"more",props:a},{default:t(()=>[o(p,{dense:"",round:"",flat:"",color:"blue",onClick:k=>V(a.row.id),icon:"more"},null,8,["onClick"])]),_:2},1032,["props"])]),"body-cell-id":t(a=>[o(c,{key:"id",props:a},{default:t(()=>[f(A(a.rowIndex+1),1)]),_:2},1032,["props"])]),"body-cell-actions":t(a=>[o(c,{key:"action",props:a},{default:t(()=>[o(p,{dense:"",round:"",flat:"",color:"green",onClick:b(k=>h(a.row),["stop"]),icon:"edit"},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","props","filter"]),o(T,{modelValue:m.value,"onUpdate:modelValue":n[6]||(n[6]=a=>m.value=a)},{default:t(()=>[o(B,null,{default:t(()=>[o(I,null,{default:t(()=>[o(M,null,{default:t(()=>[G]),_:1}),P(o(p,{flat:"",round:"",dense:"",icon:"close"},null,512),[[E]])]),_:1}),o(q,null,{default:t(()=>[s("form",{onSubmit:b(D,["prevent"]),method:"post"},[s("div",K,[s("div",W,[o(i,{name:"organization_name",modelValue:r(e).organization_name,"onUpdate:modelValue":n[1]||(n[1]=a=>r(e).organization_name=a),error:!!r(e).errors.organization_name,"error-message":r(e).errors.organization_name,label:"Department Name",placeholder:"Department Name"},null,8,["modelValue","error","error-message"]),o(i,{name:"organization_code",modelValue:r(e).organization_code,"onUpdate:modelValue":n[2]||(n[2]=a=>r(e).organization_code=a),error:!!r(e).errors.organization_code,"error-message":r(e).errors.organization_code,label:"Department Code",placeholder:"Department Code"},null,8,["modelValue","error","error-message"]),o(i,{name:"organization_type",modelValue:r(e).organization_type,"onUpdate:modelValue":n[3]||(n[3]=a=>r(e).organization_type=a),error:!!r(e).errors.organization_type,"error-message":r(e).errors.organization_type,label:"Department Type",placeholder:"Department Type"},null,8,["modelValue","error","error-message"]),o(i,{name:"organization_address",modelValue:r(e).organization_address,"onUpdate:modelValue":n[4]||(n[4]=a=>r(e).organization_address=a),error:!!r(e).errors.organization_address,"error-message":r(e).errors.organization_address,label:"Department Address",placeholder:"Department Address"},null,8,["modelValue","error","error-message"]),o(i,{name:"pincode",modelValue:r(e).pincode,"onUpdate:modelValue":n[5]||(n[5]=a=>r(e).pincode=a),error:!!r(e).errors.pincode,"error-message":r(e).errors.pincode,label:"Pincode",placeholder:"Pincode"},null,8,["modelValue","error","error-message"]),o(p,{label:"Update",dense:"",color:"black",type:"submit",disable:r(e).processing},null,8,["disable"])])])],40,H)]),_:1})]),_:1})]),_:1},8,["modelValue"])])])],64)}}};export{de as default};
