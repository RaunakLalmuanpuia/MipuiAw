import{Q as f}from"./QTd-bd214e85.js";import{r as p,T as k,J as K,o as U,c as Q,a,u as l,b as n,t as d,h as s,i as S,F as $,Z as G,j as x,Q as m,w as D,k as N,l as H,m as J,n as c,p as C,d as i,P as T,e as Y,O as F,N as Z,C as g,R as W}from"./app-bfca7ec4.js";import{Q as X}from"./QTable-e2e2fc3c.js";import{Q as V}from"./QSelect-0be4b91d.js";import{u as ee}from"./use-quasar-8ef4c359.js";import"./use-fullscreen-0d7e226b.js";import"./QChip-fbdc1a57.js";import"./QMenu-7802b655.js";const le={class:"container"},te=n("h4",{class:"mt-5 mb-5 ml-5"},"State Departmental Appellate Authority",-1),ae={class:"q-pa-md"},oe=n("span",{class:"text-weight-bold"},"Edit Details",-1),re=["onSubmit"],se={class:"q-pa-md"},ne={class:"q-gutter-x-md column",style:{width:"400px"}},ie={class:"mb-3"},de=["textContent"],me=n("span",{class:"q-ml-sm"},"Type the below text to delete?",-1),he={__name:"Index",props:{appellateAuthority:Object,role:"",isSuperAdmin:"",departments:""},setup(v){const M=v,u=ee(),b=p(!1),q=["Female","Male"],B=["Aizawl","Lunglei","Champhai","Kolasib","Serchhip","Mamit","Siaha","Lawngtlai","Khawzawl","Saitual","Hnahthial"],h=[{label:"Yes",value:1},{label:"No",value:0}],O=p(M.departments),_="Delete"+Math.floor(Math.random()*(111-999+1))+111;p(!1);const w=p(!1);let y=k({text:""});const A=p(""),e=k({id:"",email:"",name:"",designation:"",mobile:"",gender:"",address:"",pincode:"",alternate_mobile:"",district:"",active:"",department:""}),P=r=>{b.value=!0,e.id=r.id,e.name=r.name,e.designation=r.designation,e.mobile=r.mobile,e.email=r.email,e.gender=r.gender,e.address=r.address,e.pincode=r.pincode,e.alternate_mobile=r.alternate_mobile,e.district=r.district,e.active=r.active,e.department=r.department,r.active==1?e.active=h[1]:e.active=h[0]},E=[{name:"id",align:"left",label:"Sl No",field:"id",headerClasses:""},{name:"name",align:"left",label:"Department Nodal Officer",field:"name"},{name:"department",align:"left",label:"Department",field:"department",format:r=>r.organization_name},{name:"contact_details",align:"left",label:"Contact",field:"id"},{name:"actions",align:"left",label:"Action",field:"id"}],L=r=>{console.log("Im the only one: "+r),e.put(route("appellate.update",e.id),{onSuccess:()=>{b.value=!1,u.notify({message:"User Updated",closeBtn:!0,icon:"check",iconColor:"blue"})}})},I=r=>{w.value=!0,A.value=r},R=()=>{W.delete(route("nodal.destroy",A.value),{onStart:()=>u.loading.show({message:"Deleting..."}),onSuccess:()=>{u.notify({message:"User deleted",closeBtn:!0}),u.loading.hide()},onFinish:()=>u.loading.hide(),preserveState:!1})};return(r,o)=>{const z=K("Link");return U(),Q($,null,[a(l(G),{title:"Departmental Appellate Authority"}),n("div",le,[te,n("h3",null,d(r.departmentName),1),a(z,{href:r.route("appellate.create"),class:"p-2 m-5 bg-blue-5 text-white shadow-2"},{default:s(()=>[x("New Appellate Authority")]),_:1},8,["href"]),n("div",ae,[a(X,{rows:v.appellateAuthority,columns:E,"row-key":"name",onRequest:r.tableData,flat:"",bordered:"",title:"List",separator:"cell",pagination:{sortBy:"name",rowsPerPage:10},"records-per-page-options":"[1,5,10]"},{"body-cell-id":s(t=>[a(f,{key:"id",props:t},{default:s(()=>[x(d(t.rowIndex+1),1)]),_:2},1032,["props"])]),"body-cell-roles":s(t=>[a(f,{props:t},{default:s(()=>[n("div",null,d(r.departmentalAppellateAuthority.name),1)]),_:2},1032,["props"])]),"body-cell-contact_details":s(t=>[a(f,{key:"id",props:t},{default:s(()=>[n("div",null,"Email:"+d(t.row.email),1),n("div",null,"Ph:"+d(t.row.mobile),1)]),_:2},1032,["props"])]),"body-cell-actions":s(t=>[a(f,{key:"action",props:t},{default:s(()=>[a(m,{dense:"",round:"",flat:"",color:"green",onClick:j=>P(t.row),icon:"edit"},null,8,["onClick"]),a(m,{dense:"",round:"",flat:"",color:"red",onClick:D(j=>I(t.row.id),["stop"]),icon:"delete"},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","onRequest"])])]),a(S,{modelValue:b.value,"onUpdate:modelValue":o[11]||(o[11]=t=>b.value=t),persistent:""},{default:s(()=>[a(N,null,{default:s(()=>[a(H,null,{default:s(()=>[a(J,null,{default:s(()=>[oe]),_:1}),c(a(m,{flat:"",round:"",dense:"",icon:"close"},null,512),[[g]])]),_:1}),a(C,null,{default:s(()=>[n("form",{onSubmit:D(L,["prevent"]),method:"post"},[n("div",se,[n("div",ne,[a(i,{name:"name",modelValue:l(e).name,"onUpdate:modelValue":o[0]||(o[0]=t=>l(e).name=t),error:!!l(e).errors.name,"error-message":l(e).errors.name,label:"Full Name"},null,8,["modelValue","error","error-message"]),a(i,{name:"designation",modelValue:l(e).designation,"onUpdate:modelValue":o[1]||(o[1]=t=>l(e).designation=t),error:!!l(e).errors.designation,"error-message":l(e).errors.designation,label:"Designation"},null,8,["modelValue","error","error-message"]),a(i,{name:"mobile",mask:"##########",rules:[t=>t.length==10||"Must be 10 digits"],maxlength:"10",modelValue:l(e).mobile,"onUpdate:modelValue":o[2]||(o[2]=t=>l(e).mobile=t),error:!!l(e).errors.mobile,"error-message":l(e).errors.mobile,label:"Mobile"},null,8,["rules","modelValue","error","error-message"]),a(i,{name:"email",modelValue:l(e).email,"onUpdate:modelValue":o[3]||(o[3]=t=>l(e).email=t),error:!!l(e).errors.email,"error-message":l(e).errors.email,label:"Email"},null,8,["modelValue","error","error-message"]),a(V,{modelValue:l(e).gender,"onUpdate:modelValue":o[4]||(o[4]=t=>l(e).gender=t),"input-debounce":"0",label:"Gender",options:q,error:!!l(e).errors.gender,"error-message":l(e).errors.gender,style:{width:"250px"}},null,8,["modelValue","error","error-message"]),a(i,{name:"address",modelValue:l(e).address,"onUpdate:modelValue":o[5]||(o[5]=t=>l(e).address=t),error:!!l(e).errors.address,"error-message":l(e).errors.address,label:"Office Address"},null,8,["modelValue","error","error-message"]),a(i,{name:"pincode",modelValue:l(e).pincode,"onUpdate:modelValue":o[6]||(o[6]=t=>l(e).pincode=t),error:!!l(e).errors.pincode,"error-message":l(e).errors.pincode,label:"Pincode"},null,8,["modelValue","error","error-message"]),a(i,{name:"alternate_mobile",modelValue:l(e).alternate_mobile,"onUpdate:modelValue":o[7]||(o[7]=t=>l(e).alternate_mobile=t),error:!!l(e).errors.name,"error-message":l(e).errors.alternate_mobile,label:"Alternate Mobile  (Optional)"},null,8,["modelValue","error","error-message"]),a(V,{modelValue:l(e).district,"onUpdate:modelValue":o[8]||(o[8]=t=>l(e).district=t),"input-debounce":"0",label:"District",options:B,error:!!l(e).errors.district,"error-message":l(e).errors.district,style:{width:"250px"}},null,8,["modelValue","error","error-message"]),a(V,{modelValue:l(e).active,"onUpdate:modelValue":o[9]||(o[9]=t=>l(e).active=t),"input-debounce":"0",label:"Active",options:h,error:!!l(e).errors.active,"error-message":l(e).errors.active,style:{width:"250px"}},null,8,["modelValue","error","error-message"]),c(n("div",ie,[a(V,{modelValue:l(e).department.id,"onUpdate:modelValue":o[10]||(o[10]=t=>l(e).department.id=t),"use-input":"","input-debounce":"0",label:"Department",options:O.value,onFilter:r.filterFn,style:{width:"250px"},behavior:"menu","map-options":""},null,8,["modelValue","options","onFilter"]),l(e).errors.department?(U(),Q("div",{key:0,textContent:d(l(e).errors.department),class:"text-red-500 text-xs mt-3"},null,8,de)):Y("",!0)],512),[[T,v.isSuperAdmin]]),a(F,{align:"right"},{default:s(()=>[c(a(m,{flat:"",label:"Cancel",color:"primary"},null,512),[[g]]),a(m,{label:"Update",dense:"",color:"black",type:"submit",disable:l(e).processing},null,8,["disable"])]),_:1})])])],40,re)]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(S,{modelValue:w.value,"onUpdate:modelValue":o[13]||(o[13]=t=>w.value=t)},{default:s(()=>[a(N,null,{default:s(()=>[a(C,{class:"row items-center"},{default:s(()=>[a(Z,{icon:"delete",color:"red","text-color":"white"}),me]),_:1}),a(C,null,{default:s(()=>[n("div",null,[x(" Type: "),n("b",null,d(_))]),n("div",null,[a(i,{modelValue:l(y).text,"onUpdate:modelValue":o[12]||(o[12]=t=>l(y).text=t),dense:""},null,8,["modelValue"])])]),_:1}),a(F,{align:"right"},{default:s(()=>[c(a(m,{flat:"",label:"Cancel",color:"primary"},null,512),[[g]]),c(a(m,{flat:"",label:"Delete",onClick:R,color:"primary"},null,512),[[T,l(y).text===_],[g]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}};export{he as default};
