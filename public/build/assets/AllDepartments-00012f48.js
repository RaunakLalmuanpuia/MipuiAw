import{r as Q,T as P,o as g,c as u,a as e,u as d,b as i,Q as n,t as f,e as V,h as a,i as R,F as $,Z as h,k as Y,p as B,O as N,n as v,R as L,C as b}from"./app-bfca7ec4.js";import{Q as C}from"./QTd-bd214e85.js";import{Q as U}from"./QTable-e2e2fc3c.js";import{Q as x}from"./QDate-c9b3417c.js";import{u as F}from"./use-quasar-8ef4c359.js";import"./QSelect-0be4b91d.js";import"./QChip-fbdc1a57.js";import"./QMenu-7802b655.js";import"./use-fullscreen-0d7e226b.js";import"./use-cache-e4206936.js";import"./date-37bbfee8.js";const T={class:"row justify-end mt-4"},z={class:"col-3"},A={key:0},G={class:"col-3"},M={class:"m-5"},ee={__name:"AllDepartments",props:["myDepartmentCount","rangeSelect"],setup(o){const m=o,s=Q(!1),p=F(),k=[{name:"id",align:"left",label:"ID",field:"id"},{name:"organization_name",align:"left",label:"Department",field:"organization_name"},{name:"grievance_received",align:"left",label:"Grievance Received",field:"grievance_received"},{name:"grievance_closed",align:"left",label:"Grievance Closed",field:"grievance_closed"},{name:"NotYetProcess",align:"left",label:"Not Yet Process",field:"grievance_not_yet_process"},{name:"processing",align:"left",label:"Processing",field:"grievance_processing"},{name:"print",align:"left",label:"Print",field:"id"},{name:"more",align:"left",label:"Details",field:"more"}],w=r=>{L.get("/report/mydepartment/"+r)};let c=P({rangeSelect:""});const S=()=>{c.get("/report/grievancelist",{onStart:()=>p.loading.show({message:"Loading..."}),onFinish:()=>{p.loading.hide()}})},_=()=>{const t=`/allreport/print?${new URLSearchParams(m.rangeSelect).toString()}`;window.open(t,"_blank")},y=r=>{const t=new URLSearchParams(m.rangeSelect).toString(),l=`/singlereport/print/${r}?${t}`;window.open(l,"_blank")};return(r,t)=>(g(),u($,null,[e(d(h),{title:"Report"}),i("div",T,[i("div",z,[e(n,{label:"Select Range",color:"primary",onClick:t[0]||(t[0]=l=>s.value=!0)}),o.rangeSelect?(g(),u("div",A," Range : "+f(o.rangeSelect.from)+" - "+f(o.rangeSelect.to),1)):V("",!0)]),i("div",G,[e(n,{label:"Print",onClick:t[1]||(t[1]=l=>_())})])]),i("div",M,[e(U,{rows:o.myDepartmentCount,columns:k,flat:"",bordered:"",title:"Department List",separator:"cell",pagination:{sortBy:"id",rowsPerPage:15,descending:!1},"wrap-cells":""},{"body-cell-more":a(l=>[e(C,{key:"more",props:l},{default:a(()=>[e(n,{dense:"",round:"",flat:"",color:"blue",onClick:D=>w(l.row.id),icon:"more"},null,8,["onClick"])]),_:2},1032,["props"])]),"body-cell-print":a(l=>[e(C,{key:"id",props:l},{default:a(()=>[e(n,{dense:"",round:"",flat:"",color:"blue",onClick:D=>y(l.row.id),icon:"print"},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows"])]),e(R,{modelValue:s.value,"onUpdate:modelValue":t[4]||(t[4]=l=>s.value=l),persistent:""},{default:a(()=>[e(Y,null,{default:a(()=>[e(B,{class:"row items-center"},{default:a(()=>[e(x,{modelValue:d(c).rangeSelect,"onUpdate:modelValue":t[2]||(t[2]=l=>d(c).rangeSelect=l),mask:"DD/MM/YYYY","today-btn":"",range:"",flat:""},null,8,["modelValue"])]),_:1}),e(N,{align:"right"},{default:a(()=>[v(e(n,{flat:"",label:"Cancel",color:"primary"},null,512),[[b]]),v(e(n,{flat:"",label:"Submit",onClick:t[3]||(t[3]=l=>S()),color:"primary"},null,512),[[b]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};export{ee as default};
