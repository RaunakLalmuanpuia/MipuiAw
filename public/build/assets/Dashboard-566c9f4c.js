import{Q as T}from"./QSpace-4c640a0c.js";import{K as Q,g as A,r as v,T as U,z as Y,o as a,c as t,a as i,u as n,b as o,n as P,P as V,e as _,h as s,F as z,R as D,Z as E,t as u,d as M,L as q,j as w,Q as I,S as L}from"./app-bfca7ec4.js";import{Q as F}from"./QTooltip-947db973.js";import{Q as m}from"./QTd-bd214e85.js";import{Q as O}from"./QTable-e2e2fc3c.js";import{d as k}from"./date-37bbfee8.js";import B from"./Admin-82f8d959.js";import $ from"./Officer-67700318.js";import G from"./Sub-Officer-9f6dc049.js";import"./QMenu-7802b655.js";import"./QSelect-0be4b91d.js";import"./QChip-fbdc1a57.js";import"./use-fullscreen-0d7e226b.js";const j={class:"container"},K={class:"m-4"},Z=o("p",{class:"text-h4 pt-3 bg-red-2 text-red-6 p-3 text-weight-medium"}," YOUR ACCOUNT IS INACTIVE! ",-1),H=[Z],J={key:0},W=o("h3",null,"Dashboard",-1),X={key:1},ee=o("h3",null,"Dashboard",-1),ae={key:2},te={key:0,class:"ml-5 py-2 text-center bg-grey-4"},oe=o("div",null," Note: Please address all grievances within a 15-day timeframe. ",-1),ie=o("div",null," Note: Grievance hrim hrim hi ni 15 chhung a khawih chet ngei ngei tur a ngen kan ni. ",-1),se=[oe,ie],ne={class:"q-pa-md"},de={class:"text-2xl"},re={style:{width:"200px"}},le={class:""},ce={key:0},_e={key:0},me=o("div",{class:"text-red"},[o("i",{class:"q-icon material-icons"}," notifications ")],-1),he=[me],ue={key:1},pe={key:0},fe=o("div",{class:"text-red"},[o("i",{class:"q-icon material-icons"}," notifications ")],-1),ge=[fe],ve={key:2},be={key:0},ye=o("div",{class:"text-red"},[o("i",{class:"q-icon material-icons"}," notifications ")],-1),De=[ye],we={key:3},ke={key:4},xe={key:5},Ne={key:6},Ce={key:7},Se={key:8},Re={key:9},Te={key:10},Qe={key:11},$e={__name:"Dashboard",props:["grievances","dashboardData","search","maximumDaysForDepartmentNodal"],setup(h){var y;const l=h;let f="";const x=Q(),d=A(()=>x.props.CURRENT_USER);d.role_id==6?f="Grievance Appeal List":f="Grievance Pending List";const p=v(l.search);v("");const N=l.maximumDaysForDepartmentNodal;U({});const C=r=>{D.get("/grievance/officer/show/"+r)},S=[{name:"id",align:"left",label:"Sl No",field:"id"},{name:"applicant_name",align:"left",label:"Applicant Name",field:"applicant_name"},{name:"registration_number",align:"left",label:"Registration No",field:"registration_number"},{name:"organization",align:"left",label:"Department",field:"organization"},{name:"grievance_description",align:"left",label:"Description",field:"grievance_description"},{name:"more",align:"left",label:"Details",field:"id"},{name:"status",align:"center",label:"Status",field:"status"},{name:"date_of_receipt",align:"left",label:"Receive Date",field:"date_of_receipt",format:r=>k.formatDate(r,"DD MMM YYYY, hh:mm A")},{name:"last_update",align:"left",label:"Last Seen",field:"updated_at",format:r=>k.formatDate(r,"DD MMM YYYY, hh:mm A")},{name:"time_elapse_since_submission",align:"center",label:"Day Count ",field:"time_elapse_since_submission"}],g=v({page:((y=l.grievances)==null?void 0:y.current_page)||0,rowsPerPage:l.grievances.per_page,rowsNumber:l.grievances.total});function R(r){p.value=r,b({pagination:g})}function b(r){const{page:c,rowsPerPage:e}=r.pagination;D.get(route("officer.dashboard"),{per_page:e,page:c,search:p.value},{})}return Y(()=>{console.log(l.search)}),(r,c)=>(a(),t(z,null,[i(n(E),{title:"Dashboard"}),o("div",j,[o("div",K,[P(o("div",null,H,512),[[V,n(d).active==0]]),n(d).role_id==1||n(d).role_id==2?(a(),t("div",J,[W,i(B,{dashboardData:h.dashboardData},null,8,["dashboardData"])])):n(d).role_id==3?(a(),t("div",X,[ee,i($,{dashboardData:h.dashboardData},null,8,["dashboardData"])])):n(d).role_id==4||n(d).role_id==6?(a(),t("div",ae,[i(G,{dashboardData:h.dashboardData},null,8,["dashboardData"])])):_("",!0)]),n(d).role_id==3?(a(),t("div",te,se)):_("",!0),o("div",ne,[i(O,{pagination:g.value,"onUpdate:pagination":c[1]||(c[1]=e=>g.value=e),rows:h.grievances.data,columns:S,props:l,"row-key":"name","table-header-class":"bg-grey-2",flat:"",bordered:"",separator:"cell","wrap-cells":"",onRequest:b,"preserve-scroll":""},{top:s(()=>[o("span",de,u(n(f)),1),i(T),i(M,{"preserve-scroll":"",autofocus:"",dense:"",debounce:"800","onUpdate:modelValue":[R,c[0]||(c[0]=e=>p.value=e)],color:"primary",modelValue:p.value,placeholder:"Search"},{append:s(()=>[i(q,{name:"search"})]),default:s(()=>[i(F,null,{default:s(()=>[w(" Search using Applicant Name, Registration Number, Department and Description. ")]),_:1})]),_:1},8,["modelValue"])]),"body-cell-id":s(e=>[i(m,{key:"id",props:e},{default:s(()=>[w(u(e.rowIndex+1),1)]),_:2},1032,["props"])]),"body-cell-organization":s(e=>[i(m,{props:e},{default:s(()=>[o("div",re,u(e.row.department.organization_name),1)]),_:2},1032,["props"])]),"body-cell-grievance_description":s(e=>[i(m,{props:e},{default:s(()=>[o("div",le,u(e.row.grievance_text),1)]),_:2},1032,["props"])]),"body-cell-status":s(e=>[i(m,{key:"status",props:e},{default:s(()=>[n(d).role_id==3?(a(),t("div",ce,[e.row.is_seen_by_department?_("",!0):(a(),t("div",_e,he))])):n(d).role_id==4?(a(),t("div",ue,[e.row.is_seen_by_sub_department?_("",!0):(a(),t("div",pe,ge))])):n(d).role_id==6?(a(),t("div",ve,[e.row.is_seen_by_appellate?_("",!0):(a(),t("div",be,De))])):_("",!0),e.row.action_id===1?(a(),t("div",we," - No Action Required - ")):e.row.action_id===2?(a(),t("div",ke," - Examine At Our Level - ")):e.row.action_id===3?(a(),t("div",xe," - Take up with Subordinate Organization - ")):e.row.action_id===4?(a(),t("div",Ne," - Case Disposed - ")):e.row.action_id===5?(a(),t("div",Ce," - Transferred - ")):e.row.action_id===6?(a(),t("div",Se," - Appeal - ")):e.row.action_id===7?(a(),t("div",Re," - Closed - ")):e.row.action_id===10?(a(),t("div",Te," - Subordinate Can Close The Case - ")):(a(),t("div",Qe," - Under Process - "))]),_:2},1032,["props"])]),"body-cell-more":s(e=>[i(m,{key:"more",props:e},{default:s(()=>[i(I,{dense:"",round:"",flat:"",color:"blue",onClick:Ae=>C(e.row.id),icon:"more"},null,8,["onClick"])]),_:2},1032,["props"])]),"body-cell-time_elapse_since_submission":s(e=>[i(m,{props:e},{default:s(()=>[o("div",{class:L([e.row.diff_in_days>=n(N)?"bg-red-4":""])},u(e.row.diff_in_days??""),3)]),_:2},1032,["props"])]),_:1},8,["pagination","rows","props"])])])],64))}};export{$e as default};
