import{r as u,J as C,o,c as i,a as t,u as N,b as l,h as a,F as x,R as h,Z as T,ax as k,j as _,d as D,L as I,t as w,Q as L}from"./app-bfca7ec4.js";import{Q as R}from"./QSpace-4c640a0c.js";import{Q as V}from"./QTooltip-947db973.js";import{Q as c}from"./QTd-bd214e85.js";import{Q as A}from"./QTable-e2e2fc3c.js";import{u as B}from"./use-quasar-8ef4c359.js";import"./QMenu-7802b655.js";import"./QSelect-0be4b91d.js";import"./QChip-fbdc1a57.js";import"./use-fullscreen-0d7e226b.js";const P={class:"m-5"},q={class:"row mt-3"},M=l("i",{class:"q-icon material-icons-outlined"}," arrow_back ",-1),O=l("span",{class:"text-2xl"},"Grievance List",-1),U={class:""},E={key:0},F={key:1},G={key:2},j={key:3},z={key:4},J={key:5},Z={key:6},$={key:7},H={key:8},se={__name:"SingleDepartment",props:["grievances","search","departmentId"],setup(f){var b;const r=f;B();const d=u(r.search),g=u(""),y=[{name:"id",align:"left",label:"Sl No",field:"id"},{name:"applicant_name",align:"left",label:"Applicant Name",field:"applicant_name"},{name:"applicant_mobile",align:"left",label:"Applicant Mobile",field:"applicant_mobile"},{name:"registration_number",align:"left",label:"Registration No",field:"registration_number"},{name:"grievance_description",align:"left",label:"Description",field:"grievance_description"},{name:"more",align:"left",label:"Details",field:"id"},{name:"status",align:"center",label:"Status",field:"status"}],Q=n=>{h.get("/report/mydepartment/grievance/"+n)},p=u({page:((b=r.grievances)==null?void 0:b.current_page)||0,rowsPerPage:r.grievances.per_page,rowsNumber:r.grievances.total});function S(n){d.value=n,g.value=r.departmentId,v({pagination:p})}function v(n){const{page:s,rowsPerPage:m}=n.pagination;h.get("/report/mydepartment/"+g.value,{per_page:m,page:s,search:d.value},{})}return(n,s)=>{const m=C("Link");return o(),i(x,null,[t(N(T),{title:"Report"}),l("div",P,[t(m,{class:"full-width border",href:n.route("report.grievancelist")},{default:a(()=>[l("div",q,[t(k,{avatar:""},{default:a(()=>[M]),_:1}),t(k,null,{default:a(()=>[_(" Back ")]),_:1})])]),_:1},8,["href"]),t(A,{rows:f.grievances.data,columns:y,flat:"",bordered:"",title:"My Grievance List",separator:"cell",pagination:p.value,"onUpdate:pagination":s[1]||(s[1]=e=>p.value=e),onRequest:v,props:r,filter:n.filter},{top:a(()=>[O,t(R),t(D,{autofocus:"",dense:"",debounce:"800","onUpdate:modelValue":[S,s[0]||(s[0]=e=>d.value=e)],color:"primary",modelValue:d.value,placeholder:"Search"},{append:a(()=>[t(I,{name:"search"})]),default:a(()=>[t(V,null,{default:a(()=>[_(" Search using Name, Mobile and Registration Number ")]),_:1})]),_:1},8,["modelValue"])]),"body-cell-id":a(e=>[t(c,{key:"id",props:e},{default:a(()=>[_(w(e.rowIndex+1),1)]),_:2},1032,["props"])]),"body-cell-grievance_description":a(e=>[t(c,{props:e},{default:a(()=>[l("div",U,w(e.row.grievance_text),1)]),_:2},1032,["props"])]),"body-cell-status":a(e=>[t(c,{key:"status",props:e},{default:a(()=>[e.row.action_id===1?(o(),i("div",E," - No Action Required - ")):e.row.action_id===2?(o(),i("div",F," - Examine At Our Level - ")):e.row.action_id===3?(o(),i("div",G," - Take up with Subordinate Organization - ")):e.row.action_id===4?(o(),i("div",j," - Case Disposed - ")):e.row.action_id===5?(o(),i("div",z," - Transferred - ")):e.row.action_id===6?(o(),i("div",J," - Appeal - ")):e.row.action_id===7?(o(),i("div",Z," - Closed - ")):e.row.action_id===10?(o(),i("div",$," - Subordinate Can Close The Case - ")):(o(),i("div",H," - Under Process - "))]),_:2},1032,["props"])]),"body-cell-more":a(e=>[t(c,{key:"more",props:e},{default:a(()=>[t(L,{dense:"",round:"",flat:"",color:"blue",onClick:K=>Q(e.row.id),icon:"more"},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","pagination","props","filter"])])],64)}}};export{se as default};
