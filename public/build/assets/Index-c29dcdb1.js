import{Q as E}from"./QSpace-4c640a0c.js";import{r as i,T,J as O,o as $,c as j,a as e,u as s,h as t,b as n,i as N,F as J,R as y,Z,j as m,d as Q,L as z,t as f,Q as d,k as M,l as G,m as H,n as C,p as k,w as K,N as W,O as X,P as ee,C as V}from"./app-bfca7ec4.js";import{Q as le}from"./QTooltip-947db973.js";import{Q as g}from"./QTd-bd214e85.js";import{Q as ae}from"./QTable-e2e2fc3c.js";import{u as te}from"./use-quasar-8ef4c359.js";import{d as P}from"./date-37bbfee8.js";import"./QMenu-7802b655.js";import"./QSelect-0be4b91d.js";import"./QChip-fbdc1a57.js";import"./use-fullscreen-0d7e226b.js";const oe=n("h4",{class:"mb-3"},"Applicant",-1),ne={class:"q-pa-md"},se=n("span",{class:"text-2xl"},"Applicant List",-1),re=n("span",{class:"text-weight-bold"},"Edit Role",-1),ie=["onSubmit"],de={class:"q-pa-md"},ce={class:"q-gutter-x-md column",style:{width:"400px"}},pe=n("span",{class:"q-ml-sm"},"Type the below text to delete?",-1),Ce={__name:"Index",props:["applicantUsers","search"],setup(x){var A;const c=x,p=te(),h=i(!1),r=T({id:"",name:""}),u=i(c.search),D="Delete"+Math.floor(Math.random()*(111-999+1))+111;i(!1);const b=i(!1);let v=T({text:""});const S=i(""),Y=[{name:"id",align:"left",label:"Sl No",field:"id",headerClasses:""},{name:"name",align:"left",label:"Name",field:"name",style:a=>a.active==1?"white-space:pre-line;":"color:red; white-space:pre-line;"},{name:"contact_details",align:"left",label:"Contact",field:"id"},{name:"active",align:"left",label:"Active",field:a=>a.active==1?"Active":"Inactive",style:a=>a.active==1?"white-space:pre-line;color:green;":"color:red; white-space:pre-line;"},{name:"last_active",align:"left",label:"Last Active",field:"last_login",format:a=>P.formatDate(a,"DD MMM YYYY, hh:mm A")??"-"},{name:"created_at",align:"left",label:"Created_at",field:"created_at",format:a=>P.formatDate(a,"DD MMM YYYY, hh:mm A")},{name:"more",align:"left",label:"Details",field:"id"},{name:"actions",align:"left",label:"Action",field:"id"}],q=a=>{y.get("/applicant/"+a)},B=a=>{console.log("Im the only one: "+a),r.put(route("role.update",r.id),{onSuccess:()=>{h.value=!1,p.notify({message:"Role Updated",closeBtn:!0,icon:"check",iconColor:"blue"})}})},_=i({page:((A=c.applicantUsers)==null?void 0:A.current_page)||0,rowsPerPage:c.applicantUsers.per_page,rowsNumber:c.applicantUsers.total});function I(a){u.value=a,U({pagination:_})}function U(a){const{page:o,rowsPerPage:w}=a.pagination;y.get(route("applicant.index"),{per_page:w,page:o,search:u.value},{})}const L=a=>{b.value=!0,S.value=a},R=()=>{y.delete(route("applicant.destroy",S.value),{onStart:()=>p.loading.show({message:"Deleting...."}),onSuccess:()=>{p.notify({message:"User deleted",closeBtn:!0}),p.loading.hide()},onFinish:()=>p.loading.hide(),preserveState:!1})};return(a,o)=>{const w=O("Link");return $(),j(J,null,[e(s(Z),{title:"Applicant List"}),oe,e(w,{href:a.route("applicant.create"),class:"p-2 m-5 bg-blue-5 text-white shadow-2"},{default:t(()=>[m("New Applicant")]),_:1},8,["href"]),n("div",ne,[e(ae,{pagination:_.value,"onUpdate:pagination":o[1]||(o[1]=l=>_.value=l),rows:x.applicantUsers.data,columns:Y,props:c,filter:a.filter,"row-key":"name",flat:"",bordered:"",separator:"cell","wrap-cells":"",onRequest:U},{top:t(()=>[se,e(E),e(Q,{autofocus:"",dense:"",debounce:"800","onUpdate:modelValue":[I,o[0]||(o[0]=l=>u.value=l)],color:"primary",modelValue:u.value,placeholder:"Search"},{append:t(()=>[e(z,{name:"search"})]),default:t(()=>[e(le,null,{default:t(()=>[m(" Search using Name and Phone number. ")]),_:1})]),_:1},8,["modelValue"])]),"body-cell-id":t(l=>[e(g,{key:"id",props:l},{default:t(()=>[m(f(l.rowIndex+1),1)]),_:2},1032,["props"])]),"body-cell-contact_details":t(l=>[e(g,{key:"id",props:l},{default:t(()=>[n("div",null,"Email: "+f(l.row.email),1),n("div",null,"Ph: "+f(l.row.mobile),1)]),_:2},1032,["props"])]),"body-cell-more":t(l=>[e(g,{key:"more",props:l},{default:t(()=>[e(d,{dense:"",round:"",flat:"",color:"blue",onClick:F=>q(l.row.id),icon:"more"},null,8,["onClick"])]),_:2},1032,["props"])]),"body-cell-actions":t(l=>[e(g,{key:"action",props:l},{default:t(()=>[e(d,{dense:"",round:"",flat:"",color:"red",onClick:F=>L(l.row.id),icon:"delete"},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["pagination","rows","props","filter"]),e(N,{modelValue:h.value,"onUpdate:modelValue":o[3]||(o[3]=l=>h.value=l)},{default:t(()=>[e(M,null,{default:t(()=>[e(G,null,{default:t(()=>[e(H,null,{default:t(()=>[re]),_:1}),C(e(d,{flat:"",round:"",dense:"",icon:"close"},null,512),[[V]])]),_:1}),e(k,null,{default:t(()=>[n("form",{onSubmit:K(B,["prevent"]),method:"post"},[n("div",de,[n("div",ce,[e(Q,{name:"name",standout:"",modelValue:s(r).name,"onUpdate:modelValue":o[2]||(o[2]=l=>s(r).name=l),error:!!s(r).errors.name,"error-message":s(r).errors.name,dense:a.dense,placeholder:"Role Name"},null,8,["modelValue","error","error-message","dense"]),e(d,{label:"Update",dense:"",color:"black",type:"submit",disable:s(r).processing},null,8,["disable"])])])],40,ie)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),e(N,{modelValue:b.value,"onUpdate:modelValue":o[5]||(o[5]=l=>b.value=l)},{default:t(()=>[e(M,null,{default:t(()=>[e(k,{class:"row items-center"},{default:t(()=>[e(W,{icon:"delete",color:"red","text-color":"white"}),pe]),_:1}),e(k,null,{default:t(()=>[n("div",null,[m(" Type: "),n("b",null,f(D))]),n("div",null,[e(Q,{modelValue:s(v).text,"onUpdate:modelValue":o[4]||(o[4]=l=>s(v).text=l),dense:""},null,8,["modelValue"])])]),_:1}),e(X,{align:"right"},{default:t(()=>[C(e(d,{flat:"",label:"Cancel",color:"primary"},null,512),[[V]]),C(e(d,{flat:"",label:"Delete",onClick:R,color:"primary"},null,512),[[ee,s(v).text===D],[V]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}};export{Ce as default};
