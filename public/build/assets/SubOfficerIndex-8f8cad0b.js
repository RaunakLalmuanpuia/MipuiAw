import{Q as U}from"./QSpace-4c640a0c.js";import{r as d,T as C,o as B,c as I,a as e,u as n,b as o,h as t,i as S,F as M,Z as P,d as f,L as F,j as b,t as h,S as L,Q as i,w as v,k as D,l as R,m as Y,n as g,p as _,N as E,O as $,P as j,C as w,R as z}from"./app-bfca7ec4.js";import{Q as y}from"./QTd-bd214e85.js";import{Q as Z}from"./QTable-e2e2fc3c.js";import{d as G}from"./date-37bbfee8.js";import{u as H}from"./use-quasar-8ef4c359.js";import"./QSelect-0be4b91d.js";import"./QChip-fbdc1a57.js";import"./QMenu-7802b655.js";import"./use-fullscreen-0d7e226b.js";const J={class:"container"},K=o("h4",{class:"mt-5 mb-5 ml-5"},"Sub Department Nodal Officer",-1),W={class:"q-pa-md"},X=o("span",{class:"text-2xl"},"List",-1),ee=o("span",{class:"text-weight-bold"},"Edit State Nodal Officer",-1),le=["onSubmit"],ae={class:"q-pa-md"},te={class:"q-gutter-x-md column",style:{width:"400px"}},oe=o("span",{class:"q-ml-sm"},"Type the below text to delete?",-1),be={__name:"SubOfficerIndex",props:{subNodalOfficers:Object,role:""},setup(k){const m=H(),c=d(""),Q=d(!1),r=C({name:""}),V="Delete"+Math.floor(Math.random()*(111-999+1))+111;d(!1);const u=d(!1);let p=C({text:""});const x=d(""),N=[{name:"id",align:"left",label:"Sl No",field:"id",headerClasses:""},{name:"department",align:"left",label:"Department Nodal Officer",field:l=>l.department?l.name+`
`+l.department.organization_name:l.name,style:l=>l.active==1?"white-space:pre-line;":"color:red; white-space:pre-line;"},{name:"contact_details",align:"left",label:"Contact Details",field:l=>"Email: "+l.email+`
Ph: `+l.mobile,style:l=>l.active==1?"white-space:pre-line;":"color:red; white-space:pre-line;"},{name:"active",align:"left",label:"Active",field:l=>l.active==1?"Active":"Inactive",style:l=>l.active==1?"white-space:pre-line;color:green;":"color:red; white-space:pre-line;"},{name:"last_active",align:"left",label:"Last Active",field:"last_login",format:l=>G.formatDate(l,"DD MMM YYYY, hh:mm A")??"-"},{name:"actions",align:"left",label:"Action",field:"id"}],T=l=>{console.log("Im the only one: "+l)},O=l=>{u.value=!0,x.value=l},q=()=>{z.delete(route("nodal.destroy",x.value),{onStart:()=>m.loading.show({message:"Deleting..."}),onSuccess:()=>{m.notify({message:"User deleted",closeBtn:!0}),m.loading.hide()},onFinish:()=>m.loading.hide(),preserveState:!1})};return(l,s)=>(B(),I(M,null,[e(n(P),{title:"State Nodal List"}),o("div",J,[K,o("div",W,[e(Z,{rows:k.subNodalOfficers,columns:N,"row-key":"name",onRequest:l.tableData,filter:c.value,flat:"",bordered:"",separator:"cell",pagination:{sortBy:"name",rowsPerPage:10},"records-per-page-options":"[1,5,10]"},{top:t(()=>[X,e(U),e(f,{dense:"",debounce:"300",color:"primary",modelValue:c.value,"onUpdate:modelValue":s[0]||(s[0]=a=>c.value=a),placeholder:"Search"},{append:t(()=>[e(F,{name:"search"})]),_:1},8,["modelValue"])]),"body-cell-id":t(a=>[e(y,{key:"id",props:a},{default:t(()=>[b(h(a.rowIndex+1),1)]),_:2},1032,["props"])]),"body-cell-name":t(a=>[e(y,{props:a,class:L(a.row.active==1?"":"text-red")},{default:t(()=>[b(h(a.row.name),1)]),_:2},1032,["props","class"])]),"body-cell-actions":t(a=>[e(y,{key:"action",props:a},{default:t(()=>[e(i,{dense:"",round:"",flat:"",color:"green",onClick:v(A=>l.$inertia.get("/admin/nodal/"+a.row.id+"/edit"),["stop"]),icon:"edit"},null,8,["onClick"]),e(i,{dense:"",round:"",flat:"",color:"red",onClick:v(A=>O(a.row.id),["stop"]),icon:"delete"},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","onRequest","filter"]),e(S,{modelValue:Q.value,"onUpdate:modelValue":s[2]||(s[2]=a=>Q.value=a)},{default:t(()=>[e(D,null,{default:t(()=>[e(R,null,{default:t(()=>[e(Y,null,{default:t(()=>[ee]),_:1}),g(e(i,{flat:"",round:"",dense:"",icon:"close"},null,512),[[w]])]),_:1}),e(_,null,{default:t(()=>[o("form",{onSubmit:v(T,["prevent"]),method:"post"},[o("div",ae,[o("div",te,[e(f,{name:"name",standout:"",modelValue:n(r).name,"onUpdate:modelValue":s[1]||(s[1]=a=>n(r).name=a),error:!!n(r).errors.name,"error-message":n(r).errors.name,dense:l.dense,placeholder:"Department Name"},null,8,["modelValue","error","error-message","dense"]),e(i,{label:"Update",dense:"",color:"black",type:"submit",disable:n(r).processing},null,8,["disable"])])])],40,le)]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),e(S,{modelValue:u.value,"onUpdate:modelValue":s[4]||(s[4]=a=>u.value=a)},{default:t(()=>[e(D,null,{default:t(()=>[e(_,{class:"row items-center"},{default:t(()=>[e(E,{icon:"delete",color:"red","text-color":"white"}),oe]),_:1}),e(_,null,{default:t(()=>[o("div",null,[b(" Type: "),o("b",null,h(V))]),o("div",null,[e(f,{modelValue:n(p).text,"onUpdate:modelValue":s[3]||(s[3]=a=>n(p).text=a),dense:""},null,8,["modelValue"])])]),_:1}),e($,{align:"right"},{default:t(()=>[g(e(i,{flat:"",label:"Cancel",color:"primary"},null,512),[[w]]),g(e(i,{flat:"",label:"Delete",onClick:q,color:"primary"},null,512),[[j,n(p).text===V],[w]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};export{be as default};
