import{r as p,T as w,o as v,c as C,a as n,u as d,b as e,Q as c,t as l,e as R,h as s,j as o,i as Q,F as P,Z as _,k as x,p as N,O as Y,n as y,C as f}from"./app-bfca7ec4.js";import{Q as B}from"./QDate-c9b3417c.js";import{u as G}from"./use-quasar-8ef4c359.js";import{V as $}from"./vue3-apexcharts.common-a266261e.js";import"./use-cache-e4206936.js";import"./date-37bbfee8.js";const F={class:"m-5"},L={class:"mt-10 mb-5 row"},M={class:""},U={key:0},A={class:"ml-5"},O={id:"chart"},Z={__name:"DepartmentReport",props:["myDepartmentCount","rangeSelect"],setup(a){const i=a,b=$,u=p(!1),D=p({chart:{width:380,type:"pie"},labels:["Processing","Not Yet Process","Closed"],dataLabels:{enabled:!0,style:{fontSize:"16px"},background:{enabled:!0,foreColor:"#2e2e2e",padding:10,borderRadius:2,borderWidth:1,borderColor:"#2e2e2e",opacity:.9}}}),S=p([i.myDepartmentCount.grievance_processing,i.myDepartmentCount.grievance_not_yet_process,i.myDepartmentCount.grievance_closed]),g=G();let m=w({rangeSelect:"",printSelect:!1});const h=()=>{m.get("/myreport",{onStart:()=>g.loading.show({message:"Loading..."}),onFinish:()=>{g.loading.hide()}})},V=()=>{const t=`/departmentreport/print?${new URLSearchParams(i.rangeSelect).toString()}`;window.open(t,"_blank")};return(k,t)=>(v(),C(P,null,[n(d(_),{title:"My Report"}),e("div",F,[e("div",null,[e("div",L,[e("div",M,[n(c,{label:"Select Range",color:"primary",onClick:t[0]||(t[0]=r=>u.value=!0)}),a.rangeSelect?(v(),C("div",U," Range : "+l(a.rangeSelect.from)+" - "+l(a.rangeSelect.to),1)):R("",!0)]),e("div",A,[n(c,{onClick:t[1]||(t[1]=r=>V())},{default:s(()=>[o("Print")]),_:1})])])]),e("div",null,[e("div",null," Report Range : "+l(a.myDepartmentCount.range),1),e("div",null,[o(" Grievance Registered : "),e("span",null,l(a.myDepartmentCount.grievance_received),1)]),e("div",null,[o(" Grievance Processing : "),e("span",null,l(a.myDepartmentCount.grievance_processing),1)]),e("div",null,[o(" Grievance Not Yet Process : "),e("span",null,l(a.myDepartmentCount.grievance_not_yet_process),1)]),e("div",null,[o(" Grievance Closed : "),e("span",null,l(a.myDepartmentCount.grievance_closed),1)]),e("div",null,[o(" Closed Percentage (%) : "),e("span",null,l(a.myDepartmentCount.closed_percentage)+"%",1)])]),e("div",null,[e("div",O,[n(d(b),{type:"pie",width:"380",options:D.value,series:S.value},null,8,["options","series"])])])]),n(Q,{modelValue:u.value,"onUpdate:modelValue":t[4]||(t[4]=r=>u.value=r),persistent:""},{default:s(()=>[n(x,null,{default:s(()=>[n(N,{class:"row items-center"},{default:s(()=>[n(B,{modelValue:d(m).rangeSelect,"onUpdate:modelValue":t[2]||(t[2]=r=>d(m).rangeSelect=r),mask:"DD/MM/YYYY","today-btn":"",range:"",flat:""},null,8,["modelValue"])]),_:1}),n(Y,{align:"right"},{default:s(()=>[y(n(c,{flat:"",label:"Cancel",color:"primary"},null,512),[[f]]),y(n(c,{flat:"",label:"Submit",onClick:t[3]||(t[3]=r=>h()),color:"primary"},null,512),[[f]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};export{Z as default};
