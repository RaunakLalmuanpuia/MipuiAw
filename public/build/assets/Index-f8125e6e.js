import{K as x,g as D,r as f,T as N,J as T,o as g,c as b,a as e,u as s,b as n,t as k,e as I,h as l,i as B,F as M,Z as U,j as _,d as m,L,Q as u,k as R,l as Y,m as A,n as F,p as O,w as E,R as P,C as $}from"./app-bfca7ec4.js";import{Q as h}from"./QTd-bd214e85.js";import{Q as j}from"./QTable-e2e2fc3c.js";import{d as J}from"./date-37bbfee8.js";import{u as K}from"./use-quasar-8ef4c359.js";import"./QSelect-0be4b91d.js";import"./QChip-fbdc1a57.js";import"./QMenu-7802b655.js";import"./use-fullscreen-0d7e226b.js";const Z={class:"m-5"},z=n("h4",{class:"mb-3"},"Category",-1),G={key:0,class:"bg-blue-2 border-blue-9 mt-5 p-4 mb-5 border-2"},H=n("div",{class:"text-blue-9 text-h6 text-bold"}," INFORMATION ",-1),W={class:"text-grey-9"},X={class:"q-pa-md"},ee=n("span",{class:"text-weight-bold"},"Edit Action",-1),oe=["onSubmit"],te={class:"q-pa-md"},ae={class:"q-gutter-x-md column",style:{width:"400px"}},pe={__name:"Index",props:{quotes:"",errors:""},setup(v){const d=K(),w=x(),p=D(()=>w.props.flash.message),c=f(""),i=f(!1);let o=N({id:"",quote:"",speaker:""});const C=a=>{i.value=!0,o.id=a.id,o.quote=a.quote,o.speaker=a.speaker},Q=[{name:"id",align:"left",label:"ID",field:"id",headerClasses:""},{name:"quote",align:"left",label:"Quote",field:"quote"},{name:"speaker",align:"left",label:"Speaker",field:"speaker"},{name:"created_at",align:"left",label:"Created_at",field:"created_at",format:a=>J.formatDate(a,"DD MMM YYYY")},{name:"actions",align:"left",label:"Action",field:"id"}],q=a=>{o.transform(r=>({...r})).put(route("quote.update",o.id),{onSuccess:r=>{i.value=!1,d.notify({message:"Category Updated",closeBtn:!0,icon:"check",iconColor:"blue"})}})},y=a=>{d.dialog({title:"Confirm Delete",message:"Are you sure?",ok:"Yes",cancel:"No"}).onOk(()=>{P.delete(route("quote.destroy",a),{onStart:()=>d.loading.show({message:"Deleting...."}),onSuccess:()=>{d.notify({message:"Quote deleted",closeBtn:!0}),d.loading.hide()},onFinish:()=>d.loading.hide(),preserveState:!1})}).onCancel(()=>{})};return(a,r)=>{const V=T("Link");return g(),b(M,null,[e(s(U),{title:"Quote List"}),n("div",Z,[z,s(p)?(g(),b("div",G,[H,n("div",W,k(s(p)),1)])):I("",!0),e(V,{href:a.route("quote.create"),class:"p-2 m-5 bg-blue-5 text-white shadow-2"},{default:l(()=>[_("New Quote")]),_:1},8,["href"]),n("div",X,[e(j,{rows:v.quotes,columns:Q,"row-key":"name",onRowClick:a.rowClicker,flat:"",bordered:"",title:"Quote List",separator:"cell",pagination:{rowsPerPage:10},"records-per-page-options":"[1,5,10]",filter:c.value},{"top-right":l(()=>[e(m,{borderless:"",dense:"",debounce:"300",modelValue:c.value,"onUpdate:modelValue":r[0]||(r[0]=t=>c.value=t),placeholder:"Search"},{append:l(()=>[e(L,{name:"search"})]),_:1},8,["modelValue"])]),"body-cell-id":l(t=>[e(h,{key:"id",props:t},{default:l(()=>[_(k(t.rowIndex+1),1)]),_:2},1032,["props"])]),"body-cell-actions":l(t=>[e(h,{key:"action",props:t},{default:l(()=>[e(u,{dense:"",round:"",flat:"",color:"green",onClick:S=>C(t.row),icon:"edit"},null,8,["onClick"]),e(u,{dense:"",round:"",flat:"",color:"red",onClick:S=>y(t.row.id),icon:"delete"},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","onRowClick","filter"]),e(B,{modelValue:i.value,"onUpdate:modelValue":r[3]||(r[3]=t=>i.value=t)},{default:l(()=>[e(R,null,{default:l(()=>[e(Y,null,{default:l(()=>[e(A,null,{default:l(()=>[ee]),_:1}),F(e(u,{flat:"",round:"",dense:"",icon:"close"},null,512),[[$]])]),_:1}),e(O,null,{default:l(()=>[n("form",{onSubmit:E(q,["prevent"]),method:"put"},[n("div",te,[n("div",ae,[e(m,{name:"Quote",standout:"",modelValue:s(o).quote,"onUpdate:modelValue":r[1]||(r[1]=t=>s(o).quote=t),error:!!s(o).errors.quote,"error-message":s(o).errors.quote,dense:a.dense,placeholder:"Quote"},null,8,["modelValue","error","error-message","dense"]),e(m,{name:"Speaker",modelValue:s(o).speaker,"onUpdate:modelValue":r[2]||(r[2]=t=>s(o).speaker=t),error:!!s(o).errors.speaker,"error-message":s(o).errors.speaker,dense:a.dense,placeholder:"Speaker"},null,8,["modelValue","error","error-message","dense"]),n("div",null,[e(u,{label:"Update",dense:"",color:"black",type:"submit",disable:s(o).processing},null,8,["disable"])])])])],40,oe)]),_:1})]),_:1})]),_:1},8,["modelValue"])])])],64)}}};export{pe as default};
