import{r as u,T,z as y,J as p,o as I,c as S,a as t,u as s,b as e,w as V,d as k,Q as B,j as c,t as _,h,n as g,P as x,F as E,Z as C,U as b}from"./app-bfca7ec4.js";import{u as Q}from"./use-quasar-8ef4c359.js";const j={class:"row justify-center"},F={class:"col-6 border m-5 shadow-2"},N=e("div",{class:"bg-grey-4 text-center text-2xl py-2"}," Enter OTP ",-1),R={class:"p-5"},q=["onSubmit"],D={class:"flex items-center justify-end mt-4"},L={class:"text-center text-2xl text-red py-2"},z={__name:"OTPPage",props:["verification_id","error"],setup(w){const n=w,d=Q(),r=u(0),o=u(30);let m=u(!1);const a=T({userOtp:"",verification_id:n.verification_id}),f=()=>{a.post(route("verification"),{onStart:()=>d.loading.show({message:"Processing..."}),onFinish:()=>[d.loading.hide()]})};return y(()=>{const l=setInterval(()=>{o.value===0?r.value===0?clearInterval(l):(r.value--,o.value=59):o.value--,o.value===0&&r.value===0&&(m=!0)},1e3)}),(l,v)=>{const O=p("InputLabel"),P=p("InputError");return I(),S(E,null,[t(s(C),{title:"OTP Confirmation"}),e("div",j,[e("div",F,[N,e("div",R,[e("form",{onSubmit:V(f,["prevent"])},[e("div",null,[t(O,{for:"email",value:"Email"}),t(k,{"input-class":"text-center text-h4",outlined:"",class:"mt-1 block w-full",modelValue:s(a).userOtp,"onUpdate:modelValue":v[0]||(v[0]=i=>s(a).userOtp=i),required:"",autofocus:"",rules:[i=>i.length==6],maxlength:"6"},null,8,["modelValue","rules"]),t(P,{class:"mt-2",message:s(a).errors.email},null,8,["message"])]),e("div",D,[t(B,{color:"primary",label:"Register",onClick:f})]),e("div",null,[c(" Resent OTP: "+_(r.value)+":"+_(o.value)+" ",1),e("div",null,[t(s(b),{class:"full-width text-blue-7",href:l.route("register")},{default:h(()=>[c(" Back ")]),_:1},8,["href"])])]),g(e("div",null,[t(s(b),{class:"full-width text-blue-7",href:l.route("resentOtp",n.verification_id)},{default:h(()=>[c(" Re-Sent OTP ")]),_:1},8,["href"])],512),[[x,s(m)]])],40,q)]),g(e("div",L," Wrong OTP! ",512),[[x,n.error]])])])],64)}}};export{z as default};
